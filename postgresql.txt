-- USER
\du
REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM brgy_administrator;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM brgy_administrator;
DROP USER brgy_administrator;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM brgy_captain;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM brgy_captain;
DROP USER brgy_captain;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM brgy_secretary;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM brgy_secretary;
DROP USER brgy_secretary;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM clerk_resident_encoder;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM clerk_resident_encoder;
DROP USER clerk_resident_encoder;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM clerk_resident_admin;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM clerk_resident_admin;
DROP USER clerk_resident_admin;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM clerk_complaint_encoder;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM clerk_complaint_encoder;
DROP USER clerk_complaint_encoder;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM clerk_complaint_admin;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM clerk_complaint_admin;
DROP USER clerk_complaint_admin;


-- ROLES
\dU+ rolename - To view specific role
REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM superadmin;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM superadmin;
DROP ROLE superadmin;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM captain;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM captain;
DROP ROLE captain;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM secretary;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM secretary;
DROP ROLE secretary;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM complaint_encoder;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM complaint_encoder;
DROP ROLE complaint_encoder;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM complaint_admin;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM complaint_admin;
DROP ROLE complaint_admin;


REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM resident_encoder;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM resident_encoder;
DROP ROLE resident_encoder;

REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA complaintsc FROM resident_admin;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA complaintsc FROM resident_admin;
DROP ROLE resident_admin;


-- TRIGGER FUNCTION

\df - Display Function
\df -A = function description
\df schemaname.*
\dft - Display Function Trigger
DROP TRIGGER trigger_name ON table_name;

-- VIEWS

\dv - Display all table View
or
SELECT * FROM pg_views; - To use the view
DROP VIEW view_name;

-- FUNCTIONS

\df complaitsc.* - Display all of the function within a specific schema
SELECT get_resident_by_id(1); - To use the function
DROP FUNCTION IF EXISTS get_resident_by_id(INT);


-- STORED PROCEDURE

SELECT * FROM GetResidentsByAgeRange(18, 30); - To use the stored procedure

-- Using CLI:
\df+ GetResidentsByAgeRange

-- Querying system catalog:
SELECT proname, prosrc
FROM pg_proc
WHERE proname = 'GetResidentsByAgeRange';

SELECT proname
FROM pg_proc
WHERE pronamespace = 'complaintsc'::regnamespace;

